<div class="container mt-4">
  <h2>{{ 'MIS_DENUNCIAS.TITLE' | translate }}</h2>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <p *ngIf="denuncias.length === 0 && !error">
    {{ 'MIS_DENUNCIAS.NO_RECORDS' | translate }}
  </p>

  <table class="table" *ngIf="denuncias.length > 0">
    <thead>
      <tr>
        <th>#</th>
        <th>{{ 'MIS_DENUNCIAS.COLUMNS.DESCRIPTION' | translate }}</th>
        <th>{{ 'MIS_DENUNCIAS.COLUMNS.STATE' | translate }}</th>
        <th>{{ 'MIS_DENUNCIAS.COLUMNS.DATE' | translate }}</th>
        <th>{{ 'MIS_DENUNCIAS.COLUMNS.EVIDENCE' | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let d of denuncias; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ d.descripcion }}</td>
        <td>{{ d.estado }}</td>
        <td>{{ d.creada_en | date:'short' }}</td>
        <td>
          <a
            *ngIf="d.evidenciaArchivo"
            [href]="d.evidenciaArchivo"
            target="_blank"
          >
            {{ 'MIS_DENUNCIAS.VIEW_FILE' | translate }}
          </a>
          <span *ngIf="!d.evidenciaArchivo">-</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>

